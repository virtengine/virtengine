# ─── Codex Monitor — Environment Configuration ───────────────────────────────
# Copy this file to .env and fill in your values.
# All variables are optional unless marked [REQUIRED].

# ─── Telegram Bot ─────────────────────────────────────────────────────────────
# Create a bot via @BotFather on Telegram, then paste the token here.
# Run `node get-telegram-chat-id.mjs` to discover your chat ID.
TELEGRAM_BOT_TOKEN=
TELEGRAM_CHAT_ID=
# Minutes between periodic status summaries (default: 10)
TELEGRAM_INTERVAL_MIN=10
# Long-poll timeout for getUpdates in seconds (default: 20)
TELEGRAM_COMMAND_POLL_TIMEOUT_SEC=20

# ─── Orchestrator Script ──────────────────────────────────────────────────────
# Path to the PowerShell orchestrator script.
# Defaults to ../ve-orchestrator.ps1 relative to this directory.
# ORCHESTRATOR_SCRIPT=./your-orchestrator.ps1

# Arguments passed to the orchestrator script (space-separated).
# ORCHESTRATOR_ARGS=-MaxParallel 6

# ─── Vibe-Kanban ──────────────────────────────────────────────────────────────
# Base URL for the Vibe-Kanban API (default: http://127.0.0.1:54089)
VK_BASE_URL=http://127.0.0.1:54089
# Port for vibe-kanban API (default: 54089)
VK_RECOVERY_PORT=54089
# Public URL shown in Telegram links (optional)
# VK_PUBLIC_URL=https://kanban.yoursite.com
# Set to 1 to prevent the monitor from spawning vibe-kanban automatically
# VK_NO_SPAWN=0

# ─── GitHub ───────────────────────────────────────────────────────────────────
# Repository slug for PR links (default: auto-detected from git remote)
# GITHUB_REPO=your-org/your-repo
# Custom GitHub URL base for links
# GITHUB_REPO_URL=https://github.com/your-org/your-repo

# ─── Codex / AI Provider ─────────────────────────────────────────────────────
# The Codex SDK uses OpenAI-compatible configuration.
# Set these to use a different model or provider.
OPENAI_API_KEY=
# OPENAI_BASE_URL=https://api.openai.com/v1
# CODEX_MODEL=gpt-4o
# Set to 1 to disable all Codex/AI features (analysis, autofix, shell)
# CODEX_SDK_DISABLED=0

# ─── Task Planner ────────────────────────────────────────────────────────────
# Auto-trigger task planner when backlog-per-slot drops below threshold
TASK_PLANNER_PER_CAPITA_THRESHOLD=1
# Auto-trigger when idle slots meet/exceed threshold
TASK_PLANNER_IDLE_SLOT_THRESHOLD=1
# De-duplication window in hours
TASK_PLANNER_DEDUP_HOURS=24

# ─── Git Identity (optional) ─────────────────────────────────────────────────
# Override git author for automated commits
# VE_GIT_AUTHOR_NAME=Codex Monitor
# VE_GIT_AUTHOR_EMAIL=bot@yoursite.com

# ─── Advanced ─────────────────────────────────────────────────────────────────
# Max orchestrator restarts (0 = unlimited)
# MAX_RESTARTS=0
# Restart delay in milliseconds
# RESTART_DELAY_MS=10000
# Max parallel task slots
# MAX_PARALLEL=6
