{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://virtengine.io/schemas/billing/examples/invoice-compute.json",
  "title": "Example Invoice - Compute Services",
  "description": "Example invoice for compute resource usage",
  "invoice_id": "inv-2026-001-abc123",
  "invoice_number": "VE-00001234",
  "escrow_id": "escrow-order-12345",
  "order_id": "order-12345",
  "lease_id": "lease-67890",
  "provider": "cosmos1providerxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx",
  "customer": "cosmos1customerxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx",
  "status": "pending",
  "currency": "uvirt",
  "billing_period": {
    "start_time": "2026-01-01T00:00:00Z",
    "end_time": "2026-01-31T23:59:59Z",
    "duration_seconds": 2678399,
    "period_type": "monthly",
    "sequence_number": 1
  },
  "line_items": [
    {
      "line_item_id": "line-001",
      "description": "CPU Usage - 4 cores for 720 hours",
      "usage_type": "cpu",
      "quantity": "2880",
      "unit": "core-hour",
      "unit_price": {
        "denom": "uvirt",
        "amount": "10000"
      },
      "amount": [
        {
          "denom": "uvirt",
          "amount": "28800000"
        }
      ],
      "usage_record_ids": ["usage-001", "usage-002", "usage-003"],
      "pricing_tier": "standard",
      "metadata": {
        "cores": "4",
        "hours": "720"
      }
    },
    {
      "line_item_id": "line-002",
      "description": "Memory Usage - 16 GB for 720 hours",
      "usage_type": "memory",
      "quantity": "11520",
      "unit": "gb-hour",
      "unit_price": {
        "denom": "uvirt",
        "amount": "5000"
      },
      "amount": [
        {
          "denom": "uvirt",
          "amount": "57600000"
        }
      ],
      "usage_record_ids": ["usage-001", "usage-002", "usage-003"],
      "pricing_tier": "standard",
      "metadata": {
        "gb": "16",
        "hours": "720"
      }
    },
    {
      "line_item_id": "line-003",
      "description": "SSD Storage - 100 GB",
      "usage_type": "storage",
      "quantity": "100",
      "unit": "gb-month",
      "unit_price": {
        "denom": "uvirt",
        "amount": "1000"
      },
      "amount": [
        {
          "denom": "uvirt",
          "amount": "100000"
        }
      ],
      "pricing_tier": "ssd"
    },
    {
      "line_item_id": "line-004",
      "description": "Network Egress - 50 GB",
      "usage_type": "network",
      "quantity": "50",
      "unit": "gb",
      "unit_price": {
        "denom": "uvirt",
        "amount": "100"
      },
      "amount": [
        {
          "denom": "uvirt",
          "amount": "5000"
        }
      ]
    }
  ],
  "subtotal": [
    {
      "denom": "uvirt",
      "amount": "86505000"
    }
  ],
  "discounts": [
    {
      "discount_id": "disc-applied-001",
      "policy_id": "volume-tier-2",
      "type": "volume",
      "description": "Volume Discount - Tier 2 (10% off)",
      "amount": [
        {
          "denom": "uvirt",
          "amount": "8650500"
        }
      ],
      "applied_at": "2026-01-31T12:00:00Z",
      "applied_by": "system"
    }
  ],
  "discount_total": [
    {
      "denom": "uvirt",
      "amount": "8650500"
    }
  ],
  "tax_details": {
    "jurisdiction": {
      "jurisdiction_id": "GB",
      "country_code": "GB",
      "country_name": "United Kingdom",
      "tax_rates": [
        {
          "rate_id": "GB-VAT-20",
          "tax_type": "vat",
          "name": "VAT Standard Rate",
          "rate_bps": 2000
        }
      ]
    },
    "customer_tax_id": "",
    "provider_tax_id": "GB123456789",
    "exemption_category": "none",
    "tax_line_items": [
      {
        "tax_rate_id": "GB-VAT-20",
        "tax_type": "vat",
        "name": "VAT Standard Rate",
        "rate_bps": 2000,
        "taxable_amount": [
          {
            "denom": "uvirt",
            "amount": "77854500"
          }
        ],
        "tax_amount": [
          {
            "denom": "uvirt",
            "amount": "15570900"
          }
        ],
        "is_exempt": false
      }
    ],
    "total_tax": [
      {
        "denom": "uvirt",
        "amount": "15570900"
      }
    ],
    "is_reverse_charge": false,
    "tax_point_date": "2026-01-31T23:59:59Z",
    "calculated_at": "2026-02-01T00:00:00Z"
  },
  "tax_total": [
    {
      "denom": "uvirt",
      "amount": "15570900"
    }
  ],
  "total": [
    {
      "denom": "uvirt",
      "amount": "93425400"
    }
  ],
  "amount_paid": [],
  "amount_due": [
    {
      "denom": "uvirt",
      "amount": "93425400"
    }
  ],
  "due_date": "2026-02-07T23:59:59Z",
  "issued_at": "2026-02-01T00:00:00Z",
  "dispute_window": {
    "window_id": "dispute-inv-2026-001-abc123",
    "invoice_id": "inv-2026-001-abc123",
    "window_start_time": "2026-02-01T00:00:00Z",
    "window_end_time": "2026-02-08T00:00:00Z",
    "window_duration_seconds": 604800,
    "status": "open",
    "resolution": "none"
  },
  "metadata": {
    "deployment_name": "my-web-app",
    "region": "us-east-1",
    "environment": "production"
  },
  "block_height": 1234567,
  "created_at": "2026-02-01T00:00:00Z",
  "updated_at": "2026-02-01T00:00:00Z"
}
