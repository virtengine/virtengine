syntax = "proto3";
package virtengine.bme.v1;

import "cosmos/msg/v1/msg.proto";

import "virtengine/bme/v1/msgs.proto";

option go_package = "github.com/virtengine/virtengine/sdk/go/node/bme/v1";

// Msg defines the BME (Burn/Mint Engine) transaction service.
// The BME module manages the burn and mint operations for ACT tokens,
// maintaining collateral ratios and enforcing circuit breaker rules.
service Msg {
  option (cosmos.msg.v1.service) = true;

  // UpdateParams updates the module parameters.
  // This operation can only be performed through governance proposals.
  rpc UpdateParams(MsgUpdateParams) returns (MsgUpdateParamsResponse);

  // BurnMint allows users to burn one token and mint another at current oracle prices.
  // Typically used to burn unused ACT tokens back to AKT.
  // The operation may be delayed or rejected based on circuit breaker status.
  rpc BurnMint(MsgBurnMint) returns (MsgBurnMintResponse);

  // MintACT mints ACT tokens by burning the specified source token.
  // The mint amount is calculated based on current oracle prices and
  // the collateral ratio. May be halted if circuit breaker is triggered.
  rpc MintACT(MsgMintACT) returns (MsgMintACTResponse);

  // BurnACT burns ACT tokens and mints the specified destination token.
  // The burn operation uses remint credits when available, otherwise
  // requires adequate collateral backing based on oracle prices.
  rpc BurnACT(MsgBurnACT) returns (MsgBurnACTResponse);
}
