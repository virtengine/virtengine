syntax = "proto3";
package virtengine.base.deposit.v1;

import "cosmos/base/v1beta1/coin.proto";
import "gogoproto/gogo.proto";

option go_package = "github.com/virtengine/virtengine/sdk/go/node/types/deposit/v1";

// Source is an enum which lists source of funds for deployment deposit.
enum Source {
  option (gogoproto.goproto_enum_prefix) = false;

  // Prefix should start with 0 in enum. So declaring dummy state.
  invalid = 0 [(gogoproto.enumvalue_customname) = "SourceInvalid"];
  // SourceBalance denotes account balance as source of funds
  balance = 1 [(gogoproto.enumvalue_customname) = "SourceBalance"];
  // SourceGrant denotes authz grants as source of funds
  grant = 2 [(gogoproto.enumvalue_customname) = "SourceGrant"];
}

// Deposit is a data type used by MsgCreateDeployment, MsgDepositDeployment and MsgCreateBid to indicate source of the deposit.
message Deposit {
  // amount specifies the amount of coins to include in the deployment's first deposit.
  cosmos.base.v1beta1.Coin amount = 1 [
    (gogoproto.nullable) = false,
    (gogoproto.moretags) = "yaml:\"amount\""
  ];

  reserved 2;
  reserved 3;
  reserved 4;

  // Sources is the set of deposit sources, each entry must be unique.
  repeated Source sources = 5 [
    (gogoproto.castrepeated) = "Sources",
    (gogoproto.jsontag) = "deposit_sources",
    (gogoproto.moretags) = "yaml:\"deposit_sources\""
  ];
}
